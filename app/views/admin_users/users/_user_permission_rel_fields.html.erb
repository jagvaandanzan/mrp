<tr class="nested-fields">
  <td>
    <%= field_errors f.object, :user_permission_id %>
    <%= f.collection_select :user_permission_id, UserPermission.by_queue, :id, :description,
                            {:prompt => t('controls.select.none')}, {class: 'form-control selectpicker'} %>
  </td>
  <td>
    <%= field_errors f.object, :role %>
    <%= f.select :role, UserPermissionRel.roles.keys.map {|k| [UserPermissionRel.roles_i18n[k], k]}, {:prompt => t('controls.select.none')}, {class: 'form-control selectpicker'} %>
  </td>
  <td class="va-mid remove">
    <%= link_to_remove_association f, data: {confirm: t('are_you_sure')} do %>
      <%= nested_remove_btn %>
    <% end %>
  </td>
</tr>
<script>
    $(document).ready(function () {
        $('.selectpicker').selectpicker('refresh');
    })
</script>