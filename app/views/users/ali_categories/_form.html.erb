<% content_for :stylesheets do -%>
  <%= stylesheet_link_tag "form" %>
<% end %>

<div class="content-wrapper">
  <div class="action-buttons">
    <%= link_to t('titles.back'), users_ali_category_path(@ali_category), {class: "btn blck-btn"} %>
  </div>
  <%= show_body do %>
    <div class="box box-info">
      <%= form_with model: @ali_category, url: @ali_category.persisted? ? users_ali_category_path : users_ali_categories_path,
                    method: @ali_category.persisted? ? :patch : :post, local: true, :html => {class: 'form-horizontal'} do |f| %>
        <%= form_body do %>

          <div class="col-md-12">
            <div class="row">
              <div class="col-md-5 field_div">
                <%= f.label :name, class: 'control-label' %>
                <div class="<%= get_error_class(@ali_category, :name) %>">
                  <%= field_errors(@ali_category, :name) %>
                  <%= f.text_field :name, class: 'form-control', placeholder: t('activerecord.attributes.ali_category.name'), readonly: true %>
                </div>
              </div>
              <div class="col-md-5 field_div">
                <%= f.label :name_mn, class: 'control-label' %>
                <div class="<%= get_error_class(@ali_category, :name_mn) %>">
                  <%= field_errors(@ali_category, :name_mn) %>
                  <%= f.text_field :name_mn, class: 'form-control', placeholder: t('activerecord.attributes.ali_category.name_mn') %>
                </div>
              </div>
              <div class="col-md-2 field_div">
                <%= f.label :prod, class: 'control-label' %>
                <div class="<%= get_error_class(@ali_category, :prod) %>">
                  <%= field_errors(@ali_category, :prod) %>
                  <%= f.check_box :prod, class: 'flat-red', disabled: @ali_category.prod %>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-12 field_div">
            <%= f.label :sub_categories, class: 'control-label' %>

            <div class="cocoon-nested-form">
              <div class="<%= get_error_class(@ali_category, :sub_categories) %>">
                <%= field_errors(@ali_category, :sub_categories) %>
                <table class="table table-bordered" id="tb_sub_categories">
                  <tr>
                    <th><%= t('activerecord.attributes.ali_category.name') %></th>
                    <th><%= t('activerecord.attributes.ali_category.name_mn') %></th>
                    <th class="text-center"><%= t('activerecord.attributes.ali_category.prod') %></th>
                  </tr>
                  <%= f.fields_for :sub_categories do |m| %>
                    <%= render 'sub_category_fields', :f => m %>
                  <% end %>
                </table>
              </div>
            </div>
          </div>
          <div class="action-buttons">
            <%= f.submit t('controls.button.save'), class: 'btn btn-warning' %>
          </div>
        <% end %>
      <% end %>
    </div>
  <% end %>
</div>
<style>
  .form-control[readonly] {
    background-color: white;
  }
</style>