
<div class="content-wrapper">

  <section class="content">
    <div class="box box-info">
      <%= form_with model: @product_supply_order, url: @product_supply_order.persisted? ? users_product_supply_order_path : users_product_supply_orders_path,
                    method: @product_supply_order.persisted? ? :patch : :post, local: true, :html => {class: 'form-horizontal'} do |f| %>
        <%= form_body do %>
          <div class="form-group">
            <%= f.label :code, class: 'col-sm-3 control-label' %>
            <div class="col-sm-6 <%= get_error_class(@product_supply_order, :code) %>">
              <%= field_errors(@product_supply_order, :code) %>
              <%= f.text_field :code, class: 'form-control', placeholder: t('activerecord.attributes.product_supply_order.code') %>
            </div>
          </div>

          <div class="form-group">
            <%= f.label :ordered_date, class: 'col-sm-3 control-label' %>
            <div class="col-sm-6 input-group date <%= get_error_class(@product_supply_order, :ordered_date) %>" data-provide="datepicker">
              <%= field_errors(@product_supply_order, :ordered_date) %>
              <%= f.text_field :ordered_date, value:@product_supply_order.ordered_date.strftime('%F'), class: 'field form-control', placeholder: t('activerecord.attributes.product_supply_order.ordered_date') %>
              <div class="input-group-addon">
                <i class="fa fa-calendar"></i>
              </div>
            </div>
          </div>

          <div class="form-group">
            <%= f.label :supplier_id, class: 'col-sm-3 control-label' %>
            <div class="col-sm-6 <%= get_error_class(@product_supply_order, :supplier_id) %>">
              <%= field_errors(@product_supply_order, :supplier_id) %>
              <%= f.collection_select :supplier_id,  ProductSupplier.search(""), :id, :name,
                                      {:prompt => t('controls.select.none')}, {class: 'form-control'} %>
            </div>
          </div>

          <div class="form-group">
            <%= f.label :payment, class: 'col-sm-3 control-label' %>
            <div class="col-sm-6 <%= get_error_class(@product_supply_order, :payment) %>">
              <%= field_errors(@product_supply_order, :payment) %>
              <%= f.select :payment, ProductSupplyOrder.payments_i18n.keys.map {|k| [ProductSupplyOrder.payments_i18n[k], k]},
                           {:prompt => t('controls.select.none')}, {class: 'form-control'} %>
            </div>
          </div>

          <div class="form-group">
            <%= f.label :exchange, class: 'col-sm-3 control-label' %>
            <div class="col-sm-6 <%= get_error_class(@product_supply_order, :exchange) %>">
              <%= field_errors(@product_supply_order, :exchange) %>
              <%= f.select :exchange, ProductSupplyOrder.exchanges_i18n.keys.map {|k| [ProductSupplyOrder.exchanges_i18n[k], k]},
                           {:prompt => t('controls.select.none')}, {class: 'form-control'} %>
            </div>
          </div>

          <div class="form-group">
            <%= f.label :exchange_value, class: 'col-sm-3 control-label' %>
            <div class="col-sm-6 <%= get_error_class(@product_supply_order, :exchange_value) %>">
              <%= field_errors(@product_supply_order, :exchange_value) %>
              <%= f.number_field :exchange_value, class: 'form-control', min:0, step: 0.01  %>
            </div>
          </div>

          <div class="form-group">
            <%= f.label :is_closed, class: 'col-sm-3 control-label' %>
            <div class="col-sm-6 ">
              <%= f.radio_button :is_closed, 'true' %>
              <%= f.label :is_closed, 'Тийм', :value => 'true' %>
              <%= f.radio_button :is_closed, 'false' %>
              <%= f.label :is_closed, 'Үгүй', :value => 'false' %>
            </div>
          </div>

          <div class="form-group">
            <%= f.label :closed_date, class: 'col-sm-3 control-label' %>
            <div class="col-sm-6 input-group date " data-provide="datepicker">
              <%= f.text_field :closed_date, value:@product_supply_order.closed_date.presence ? @product_supply_order.closed_date.strftime('%F') : "",
                               class: 'field form-control', placeholder: t('activerecord.attributes.product_supply_order.closed_date') %>
              <div class="input-group-addon">
                <i class="fa fa-calendar"></i>
              </div>
            </div>
          </div>

          <div class="action-buttons">
            <%= f.submit t('controls.button.save'), class: 'btn btn-warning' %>
            <%= link_to t('titles.back_to_list'), users_product_supply_orders_path(page: cookies[:page_number]), {class: "btn blck-btn"} %>
          </div>
        <% end %>
      <% end %>
    </div>
  </section>
</div>